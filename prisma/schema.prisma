generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("PRISMA_DATABASE_URL")
}

model coin_historical_price {
  symbol String   @db.VarChar(20)
  date   DateTime @db.Timestamptz(6)
  open   Decimal  @db.Decimal
  high   Decimal  @db.Decimal
  low    Decimal  @db.Decimal
  close  Decimal  @db.Decimal
  volume Decimal  @db.Decimal

  @@unique([symbol, date])
}

model coin_pairs_coint {
  date          DateTime @db.Timestamptz(6)
  window_length Int
  symbol1       String   @db.VarChar(50)
  symbol2       String   @db.VarChar(50)
  pvalue        Decimal  @db.Decimal

  @@unique([date, symbol1, symbol2])
}

model stock_historical_price {
  symbol String   @db.VarChar(10)
  date   DateTime @db.Timestamptz(6)
  open   Decimal  @db.Decimal
  high   Decimal  @db.Decimal
  low    Decimal  @db.Decimal
  close  Decimal  @db.Decimal
  volume BigInt

  @@unique([symbol, date])
}

model stock_pairs_coint {
  date          DateTime @db.Timestamptz(6)
  window_length Int
  symbol1       String   @db.VarChar(50)
  symbol2       String   @db.VarChar(50)
  pvalue        Decimal  @db.Decimal

  @@unique([date, symbol1, symbol2])
}

model stock_signal {
  symbol1      String   @db.VarChar(50)
  symbol2      String   @db.VarChar(50)
  pvalue       Decimal  @db.Decimal
  ols_const    Decimal  @db.Decimal
  ols_coeff    Decimal  @db.Decimal
  r_squared    Decimal  @db.Decimal
  key_score    Decimal  @db.Decimal
  last_updated DateTime @db.Timestamptz(6)

  @@unique([symbol1, symbol2, last_updated])
}

model coin_signal {
  symbol1      String   @db.VarChar(50)
  symbol2      String   @db.VarChar(50)
  pvalue       Decimal  @db.Decimal
  ols_const    Decimal  @db.Decimal
  ols_coeff    Decimal  @db.Decimal
  r_squared    Decimal  @db.Decimal
  key_score    Decimal  @db.Decimal
  last_updated DateTime @db.Timestamptz(6)

  @@unique([symbol1, symbol2, last_updated])
}

model stock_overview {
  symbol                     String    @id @db.VarChar(10)
  assettype                  String?   @db.VarChar(50)
  name                       String?   @db.VarChar(255)
  description                String?
  cik                        String?   @db.VarChar(10)
  exchange                   String?   @db.VarChar(10)
  currency                   String?   @db.VarChar(10)
  country                    String?   @db.VarChar(50)
  sector                     String?   @db.VarChar(50)
  industry                   String?   @db.VarChar(255)
  address                    String?   @db.VarChar(255)
  fiscalyearend              String?   @db.VarChar(20)
  latestquarter              DateTime? @db.Date
  marketcapitalization       BigInt?
  ebitda                     BigInt?
  peratio                    Decimal?  @db.Decimal(10, 2)
  pegratio                   Decimal?  @db.Decimal(10, 3)
  bookvalue                  Decimal?  @db.Decimal(10, 2)
  dividendpershare           Decimal?  @db.Decimal(10, 2)
  dividendyield              Decimal?  @db.Decimal(10, 4)
  eps                        Decimal?  @db.Decimal(10, 2)
  revenuepersharettm         Decimal?  @db.Decimal(10, 2)
  profitmargin               Decimal?  @db.Decimal(10, 3)
  operatingmarginttm         Decimal?  @db.Decimal(10, 3)
  returnonassetsttm          Decimal?  @db.Decimal(10, 3)
  returnonequityttm          Decimal?  @db.Decimal(10, 3)
  revenuettm                 BigInt?
  grossprofitttm             BigInt?
  dilutedepsttm              Decimal?  @db.Decimal(10, 2)
  quarterlyearningsgrowthyoy Decimal?  @db.Decimal(10, 3)
  quarterlyrevenuegrowthyoy  Decimal?  @db.Decimal(10, 3)
  analysttargetprice         Decimal?  @db.Decimal(10, 2)
  analystratingstrongbuy     Int?
  analystratingbuy           Int?
  analystratinghold          Int?
  analystratingsell          Int?
  analystratingstrongsell    Int?
  trailingpe                 Decimal?  @db.Decimal(10, 2)
  forwardpe                  Decimal?  @db.Decimal(10, 2)
  pricetosalesratiottm       Decimal?  @db.Decimal(10, 3)
  pricetobookratio           Decimal?  @db.Decimal(10, 2)
  evtorevenue                Decimal?  @db.Decimal(10, 3)
  evtoebitda                 Decimal?  @db.Decimal(10, 2)
  beta                       Decimal?  @db.Decimal(10, 3)
  high52week                 Decimal?  @db.Decimal(10, 2)
  low52week                  Decimal?  @db.Decimal(10, 2)
  movingaverage50day         Decimal?  @db.Decimal(10, 2)
  movingaverage200day        Decimal?  @db.Decimal(10, 2)
  sharesoutstanding          BigInt?
  dividenddate               DateTime? @db.Date
  exdividenddate             DateTime? @db.Date
}
